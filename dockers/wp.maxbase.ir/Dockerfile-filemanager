FROM alpine:latest

RUN apk add \
    nginx \
    wget \
    unzip

RUN mkdir -p /var/www/html

RUN wget https://github.com/prasathmani/tinyfilemanager/archive/refs/heads/master.zip -O /tmp/tinyfilemanager.zip
RUN unzip /tmp/tinyfilemanager.zip -d /var/www/html/
RUN rm /tmp/tinyfilemanager.zip
RUN rm -rf /var/www/html/tinyfilemanager-master

RUN nginx -t

EXPOSE 80

CMD ["sh", "-c", "nginx -g 'daemon off;'"]
